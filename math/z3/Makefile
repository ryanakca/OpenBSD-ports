COMMENT =	Z3 theorem prover

VERSION =	4.12.1

GH_ACCOUNT =	Z3Prover
GH_PROJECT =	z3
GH_TAGNAME =	${GH_PROJECT}-${VERSION}

DISTNAME =	${GH_TAGNAME}
PKGNAME =	${DISTNAME:L}

SHARED_LIBS =	z3			4.0 # 4.10

CATEGORIES =	math

WANTLIB +=	c m pthread ${COMPILER_LIBCXX}

# MIT
PERMIT_PACKAGE =	Yes

# c++11
COMPILER =	base-clang ports-gcc

MODULES =	devel/cmake \
		lang/python

CONFIGURE_ARGS +=	-DZ3_ENABLE_EXAMPLE_TARGETS=ON \
			-DZ3_INCLUDE_GIT_HASH=OFF \
			-DZ3_INCLUDE_GIT_DESCRIBE=OFF \
			-DZ3_BUILD_PYTHON_BINDINGS=ON \
			-DZ3_USE_LIB_GMP=OFF

WRKDIST =	${WRKDIR}/z3-${DISTNAME}

NO_TEST =	Yes

pre-configure:
	${SUBST_CMD} ${WRKSRC}/scripts/mk_util.py

.include <bsd.port.mk>
